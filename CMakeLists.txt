project (Synchronet C CXX)

cmake_minimum_required(VERSION 2.8.11)

if(NOT PROJECTS)
	SET(PROJECTS SyncTERM;SyncDraw;SExPOTS CACHE STRING "Choose the projects to build, options are: SyncTERM" FORCE)
	if(WIN32)
		list(APPEND PROJECTS CIOXtrn)
	endif()
endif()

list(FIND PROJECTS SyncTERM BUILD_SYNCTERM)
if(BUILD_SYNCTERM GREATER -1)
	if(NOT XPDEV_ADDED)
		include_directories(xpdev)
		add_subdirectory(xpdev)
		set(XPDEV_ADDED TRUE)
	endif()
	if(NOT CONIO_ADDED)
		include_directories(conio)
		add_subdirectory(conio)
		set(CONIO_ADDED TRUE)
	endif()
	if(NOT UIFC_ADDED)
		include_directories(uifc)
		add_subdirectory(uifc)
		set(UIFC_ADDED TRUE)
	endif()
	add_subdirectory(syncterm)
endif()

list(FIND PROJECTS SyncDraw BUILD_SYNCDRAW)
if(BUILD_SYNCDRAW GREATER -1)
	if(NOT XPDEV_ADDED)
		include_directories(xpdev)
		add_subdirectory(xpdev)
		set(XPDEV_ADDED TRUE)
	endif()
	if(NOT CONIO_ADDED)
		include_directories(conio)
		add_subdirectory(conio)
		set(CONIO_ADDED TRUE)
	endif()
	add_subdirectory(syncdraw)
endif()

list(FIND PROJECTS SExPOTS BUILD_SEXPOTS)
if(BUILD_SEXPOTS GREATER -1)
	if(NOT XPDEV_ADDED)
		include_directories(xpdev)
		add_subdirectory(xpdev)
		set(XPDEV_ADDED TRUE)
	endif()
	add_subdirectory(sexpots)
endif()

list(FIND PROJECTS CIOXtrn BUILD_CIOXTRN)
if(BUILD_CIOXTRN GREATER -1)
	if(NOT XPDEV_ADDED)
		include_directories(xpdev)
		add_subdirectory(xpdev)
		set(XPDEV_ADDED TRUE)
	endif()
	if(NOT CONIO_ADDED)
		include_directories(conio)
		add_subdirectory(conio)
		set(CONIO_ADDED TRUE)
	endif()
	add_subdirectory(cioxtrn)
endif()
